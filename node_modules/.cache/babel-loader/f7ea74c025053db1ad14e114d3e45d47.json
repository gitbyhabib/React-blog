{"ast":null,"code":"var _jsxFileName = \"D:\\\\HR files\\\\React\\\\React-blog\\\\src\\\\components\\\\createPost.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport CKEditor from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nclass CreatePost extends Component {\n  constructor(props) {\n    super(props);\n    this.onChangeTitle = this.onChangeTitle.bind(this);\n    this.onChangeCategory = this.onChangeCategory.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.state = {\n      title: '',\n      category: '',\n      body: '',\n      newCategory: ''\n    };\n  }\n\n  onChange(e) {\n    this.setState({\n      body: e.target.value\n    });\n  }\n\n  onChangeTitle(e) {\n    this.setState({\n      title: e.target.value\n    });\n  }\n\n  onChangeCategory(e) {\n    this.setState({\n      newCategory: e.target.value\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    let postData = [this.state.title, this.state.newCategory, this.state.body];\n    console.log(postData);\n    axios.post('http://localhost:8000/api/posts', {\n      title: postData[0],\n      category: postData[1],\n      body: postData[2]\n    }).then(res => {\n      this.props.history.push('/');\n      console.log(res);\n    });\n  }\n\n  render() {\n    let postData = this.state;\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container my-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }, \"Create Post...\"), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }, \"Title: \"), React.createElement(\"input\", {\n      type: \"text\",\n      value: postData.title || '',\n      onChange: this.onChangeTitle,\n      className: \"form-control\",\n      placeholder: \"Enter Title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Category: \"), React.createElement(\"select\", {\n      value: postData.newCategory || '',\n      onChange: this.onChangeCategory,\n      className: \"custom-select\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, Object.keys(postData.category).map(function (key) {\n      return React.createElement(\"option\", {\n        key: key,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, postData.category[key].category);\n    }))), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \" Body:\"), React.createElement(CKEditor, {\n      editor: ClassicEditor,\n      onChange: (event, editor) => {\n        const data = editor.getData();\n        this.setState({\n          body: data\n        });\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Publish\")))))));\n  }\n\n  componentDidMount() {\n    this.getCategories();\n  }\n\n  getCategories() {\n    axios.get('http://127.0.0.1:8000/api/category').then(res => {\n      this.setState({\n        category: res.data\n      }); // console.log(res.data)\n    });\n  }\n\n}\n\nexport default CreatePost;","map":{"version":3,"sources":["D:\\HR files\\React\\React-blog\\src\\components\\createPost.js"],"names":["React","Component","axios","CKEditor","ClassicEditor","CreatePost","constructor","props","onChangeTitle","bind","onChangeCategory","handleSubmit","state","title","category","body","newCategory","onChange","e","setState","target","value","event","preventDefault","postData","console","log","post","then","res","history","push","render","Object","keys","map","key","editor","data","getData","componentDidMount","getCategories","get"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport CKEditor from '@ckeditor/ckeditor5-react';\r\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\r\n\r\nclass CreatePost extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.onChangeTitle = this.onChangeTitle.bind(this);\r\n        this.onChangeCategory = this.onChangeCategory.bind(this);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n\r\n        this.state = { \r\n            title: '',\r\n            category: '',\r\n            body: '',\r\n\r\n            newCategory: '',\r\n         }\r\n    }\r\n\r\n    onChange(e){\r\n        this.setState({\r\n            body: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeTitle(e){\r\n        this.setState({\r\n            title: e.target.value\r\n        });\r\n    }\r\n\r\n    onChangeCategory(e){\r\n        this.setState({\r\n            newCategory: e.target.value\r\n        });\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        let postData = [this.state.title, this.state.newCategory, this.state.body];\r\n        console.log(postData);\r\n\r\n        axios.post('http://localhost:8000/api/posts',{\r\n            title: postData[0],\r\n            category: postData[1],\r\n            body: postData[2],\r\n        })\r\n        .then(res =>{\r\n            this.props.history.push('/')\r\n            console.log(res)\r\n        })\r\n    }\r\n\r\n    render() { \r\n        let postData = this.state;\r\n        return ( \r\n            <div>\r\n                <div className=\"container my-5\">\r\n                    <h1>Create Post...</h1>\r\n\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <form onSubmit={this.handleSubmit}> \r\n                                <div className=\"form-group\">\r\n                                    <label >Title: </label>\r\n                                    <input type=\"text\"  value={postData.title || ''} onChange={this.onChangeTitle} className=\"form-control\"  placeholder=\"Enter Title\" />\r\n                                </div>\r\n                                <div className='form-group'>\r\n                                    <label>Category: </label>\r\n                                    <select  value={postData.newCategory || ''} onChange={this.onChangeCategory} className=\"custom-select\" >\r\n                                        { \r\n                                            Object.keys(postData.category).map(function (key) {\r\n                                                return ( \r\n                                                    <option key={key}>{postData.category[key].category}</option>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                   <label> Body:</label>\r\n                                    <CKEditor\r\n                                        editor={ ClassicEditor }\r\n                                        onChange={ ( event, editor ) => {\r\n                                            const data = editor.getData();\r\n                                            this.setState({\r\n                                                body: data\r\n                                            });\r\n                                        } }\r\n                                    />\r\n                                </div>\r\n                                <div className=\"form-group\">\r\n                                    <button type=\"submit\" className=\"btn btn-primary\">Publish</button>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n         );\r\n    }\r\n\r\n\r\n    componentDidMount(){\r\n        this.getCategories();\r\n    }\r\n\r\n    getCategories(){\r\n        axios.get( 'http://127.0.0.1:8000/api/category' )\r\n        .then(res=>{\r\n            this.setState({\r\n                category: res.data\r\n            })\r\n            // console.log(res.data)\r\n        })\r\n    }\r\n}\r\n \r\nexport default CreatePost;"]},"metadata":{},"sourceType":"module"}